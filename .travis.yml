language: python
python:
  - "3.9.7"

install:
  - pip install -r requirements.txt

before_script:
  - python manage.py makemigrations
  - python manage.py migrate
  - python -m pip install flake8

script:
  - python manage.py test
  - black --check .
  - flake8 --exclude doghub_app/migrations

after_script:
  - coveralls

deploy:
  provider: elasticbeanstalk
  access_key_id:
    secure: "UKXq5FK1FgCJEN6zrKRX6pzqNiaeiW4AnFfwqZyHfT0cYg895VcVM6zc3Sf5YRq6zOPoagJ4Y2osgoei0mtoTit9q3umWDgaOd7Ja4pe5PSxNV/aCS7Ly/WLe4WwuAskYJgU8lNSfIpxEcdP5BZs1S7rmy2RnE//m/6W0vhMLL5Tw0Aa3HRrBWo8HzshILM5Uaqlgiq+Si28tTWkkTMwrahmXsQ3cR5a4eqJ1ScYLMvmUfr3oWDFbWAJsqFP9tOvUySoWD99tBuPuCIxeZ+/7foTSHDz/1+2ARnGx28Fcj23sIuwWpZXPQ9yUQdn+V0ABCFL7siahrBMJ1OWzbm7LzCR+8u8BgU6kCz6v5BZsLNCdObh7KGhgNqpFRdwJnZ1whQOsjgH3YgeIMAlMhlX9MNSotpjJEZMj9dUNiz9O0qTI2vfVsbcV04HydP9z0RWI+WJtVawBgKzsFk75ytFSUCMS919pD7i7dodltJyo3DS4FoxyU2CNXwoR4UXf5cPnXWr/ix20ltWrdC/DVazuFPudmQu42C6qjshV2xTJQRYIu5vUfbPiX3pkanM3GysVuOc/9k1KhSQtOvqeeg4LGfhPbtngZwzNjpjLmX3j8JD25z+3b2e5rEbozwzunH0XFe/RG/Rrz3BbqSde9ZPxoUk/cGeK7ZjmTZ6VYWOSu4="
  secret_access_key:
    secure: "iFO4qy+RhAScVqb4N5auq1Utc+XFHlicIBNiwld/8RuuEOVPFr2fniHV6kBgC+Frv1yFPHD2PZHRspO29AubP/s9FbyNo+3YHwGBvBOGbBnzV1C7NPljrM1nTFtAQ3Er9OZOWTQ1gWJNYPVcUj4Uvu17KIzSITQPvQqrLBhMsBYCXqt/NS1m56wloeXfN2lD8NibzJHE4ri0QfAHb8LG+2unS6YY87awnemeTek6InkxC7G5oJTkgBPx263FSIMD1hTFiqXYishSvraDbNxGfQDD89wwJhqt9Jqx3/8XRnPhfii/OjGitReer09hnjQFa7Lo4nB7WSckXH0THsVxgPQ4YfWJTn8xoK1oHQlbup99ojvjpSHuGlyt8OMqMG6QIWd5ReUZ52izuE7tvWVl/t+AXEWiS1G4cSSrHP9iDLuWIRH0OeN3PkBJie3vxCQXD6LqTRbgqFnY9z2QxSmXqSfJLtZOvm9chJxrJ5fRzeCuOr6u/U71SNssUP03NvcG6GJHI4b7Z66K9Kf/BXP1h/a/21s63hlR5+W/xSKt+9vxfr27gtwTCc5tyW3gzr00iNYMh4yqmEZOCNPsQ5bbAJoL6aJORLw0wFW3SyEKLi1W2wbcX4Bq9hAWrhbm1jKKws4rIZP0dXwE+CRdnrZ9l+Q9f0BS4A5pWFUVPCGwt4Y="
  region: "us-west-2"
  app: "django-tutorial"
  env: "doghub-develop-env"
  bucket_name: "elasticbeanstalk-us-west-2-730437625654"
  on:
    repo: gcivil-nyu-org/INET-Monday-Spring2023-Team-1
    branch:
      - develop
